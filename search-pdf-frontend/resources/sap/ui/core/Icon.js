/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * (c) Copyright 2009-2013 SAP AG or an SAP affiliate company. 
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
jQuery.sap.declare("sap.ui.core.Icon");jQuery.sap.require("sap.ui.core.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.ui.core.Icon",{metadata:{library:"sap.ui.core",properties:{"src":{type:"sap.ui.core.URI",group:"Data",defaultValue:null},"size":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},"color":{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},"hoverColor":{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},"activeColor":{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},"width":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},"height":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},"backgroundColor":{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},"hoverBackgroundColor":{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},"activeBackgroundColor":{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},"visible":{type:"boolean",group:"Appearance",defaultValue:true},"decorative":{type:"boolean",group:"Accessibility",defaultValue:true}},events:{"press":{}}}});sap.ui.core.Icon.M_EVENTS={'press':'press'};jQuery.sap.require("sap.ui.core.IconPool");(function(){var t=(jQuery.sap.touchEventMode==="OFF"),a=(t?"onmousedown":"ontouchstart"),c=(t?"onclick":"ontap");sap.ui.core.Icon.prototype[a]=function(e){if(e.srcControl.mEventRegistry["press"]||e.srcControl.mEventRegistry["tap"]){e.originalEvent._sapui_handledByControl=true}var A=this.getActiveColor(),s=this.getActiveBackgroundColor(),$;if(A||s){if((e.targetTouches&&e.targetTouches.length===1)||!e.targetTouches){$=this.$();$.addClass("sapUiIconActive");if(A){$.css("color",A)}if(s){$.css("background-color",s)}this._isActiveState=true;if(!this._touchEndProxy){this._touchEndProxy=jQuery.proxy(this._ontouchend,this)}if(!sap.ui.Device.support.touch){jQuery(window.document).bind("mouseup",this._touchEndProxy)}else{this.$().bind("touchcancel touchend",this._touchEndProxy)}}}};sap.ui.core.Icon.prototype[c]=function(e){this.firePress({})};if(t){sap.ui.core.Icon.prototype.onmouseover=function(e){var h=this.getHoverColor(),H=this.getHoverBackgroundColor(),$=this.$();if(h){$.css("color",h)}if(H){$.css("background-color",H)}};sap.ui.core.Icon.prototype.onmouseout=function(e){if(!this._isActiveState){this._restoreColors()}}}}());
sap.ui.core.Icon.prototype.onAfterRendering=function(){var $=this.$();if(sap.ui.Device.browser.chrome&&this.hasListeners("press")){$.css("cursor","pointer")}if($.css("cursor")==="auto"){$.css("cursor","default")}};
sap.ui.core.Icon.prototype.onkeydown=function(e){if(e.which==jQuery.sap.KeyCodes.SPACE||e.which==jQuery.sap.KeyCodes.ENTER){var $=this.$(),a=this.getActiveColor(),A=this.getActiveBackgroundColor();$.addClass("sapUiIconActive");if(a){$.css("color",a)}if(A){$.css("background-color",A)}this._isActiveState=true;e.preventDefault()}};
sap.ui.core.Icon.prototype.onkeyup=function(e){if(e.which==jQuery.sap.KeyCodes.SPACE||e.which==jQuery.sap.KeyCodes.ENTER){this._isActiveState=false;this.$().removeClass("sapUiIconActive");this._restoreColors();this.firePress({})}};
sap.ui.core.Icon.prototype._ontouchend=function(e){if((e.targetTouches&&e.targetTouches.length===0)||!e.targetTouches){this._isActiveState=false;this.$().removeClass("sapUiIconActive");this._restoreColors();if(!sap.ui.Device.support.touch){jQuery(window.document).unbind("mouseup",this._touchEndProxy)}else{this.$().unbind("touchcancel touchend",this._touchEndProxy)}}};
sap.ui.core.Icon.prototype._restoreColors=function(){this.$().css({"color":this.getColor()||"","background-color":this.getBackgroundColor()||""})};
sap.ui.core.Icon.prototype.setSrc=function(s){var i=sap.ui.core.IconPool.getIconInfo(s),t=(!!sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version<9),$=this.$();if(i){$.css("font-family",i.fontFamily);if(t){$.text(i.content)}else{$.attr("data-sap-ui-icon-content",i.content)}$.toggleClass("sapUiIconMirrorInRTL",!i.suppressMirroring)}this.setProperty("src",s,!!i);return this};
sap.ui.core.Icon.prototype.setWidth=function(w){this.setProperty("width",w,true);this.$().css("width",w);return this};
sap.ui.core.Icon.prototype.setHeight=function(h){this.setProperty("height",h,true);this.$().css({"height":h,"line-height":h});return this};
sap.ui.core.Icon.prototype.setSize=function(s){this.setProperty("size",s,true);this.$().css("font-size",s);return this};
sap.ui.core.Icon.prototype.setColor=function(c){this.setProperty("color",c,true);this.$().css("color",c);return this};
sap.ui.core.Icon.prototype.setActiveColor=function(c){return this.setProperty("activeColor",c,true)};
sap.ui.core.Icon.prototype.setHoverColor=function(c){return this.setProperty("hoverColor",c,true)};
sap.ui.core.Icon.prototype.setBackgroundColor=function(c){this.setProperty("backgroundColor",c,true);this.$().css("background-color",c);return this};
sap.ui.core.Icon.prototype.setActiveBackgroundColor=function(c){return this.setProperty("activeBackgroundColor",c,true)};
sap.ui.core.Icon.prototype.setHoverBackgroundColor=function(c){return this.setProperty("hoverBackgroundColor",c,true)};
